(this["webpackJsonpdictionaries-app"]=this["webpackJsonpdictionaries-app"]||[]).push([[0],{37:function(e,t,a){e.exports=a(64)},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),l=a(17),s=a(18),c=a(34),m=a.n(c),d=a(21),u=a(35),p=a(12);function h(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={1e3:{title:"Color Transformation",description:"Lorem ipsum dolor sit amet",id:1e3,rows:[{from:"Anthracite",to:"Dark Grey"},{from:"Midnight Black",to:"Black"},{from:"Mystic Silver",to:"Silver"},{from:"Blush Pink",to:"Pink"}]},1001:{title:"Size Transformation",description:"Lorem ipsum dolor sit amet",id:1001,rows:[{from:"s",to:"Small"},{from:"m",to:"Medium"},{from:"l",to:"Large"},{from:"xl",to:"Extra Large"}]},1002:{title:"Country Transformation",description:"Lorem ipsum dolor sit amet",id:1002,rows:[{from:"USA",to:"United States"},{from:"UK",to:"United Kingdom"},{from:"FRA",to:"France"},{from:"GER",to:"Germany"}]}},y=Object(s.c)({dictionaries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_DICTIONARY":return f({},e,Object(p.a)({},t.payload.id,t.payload));case"DELETE_DICTIONARY":var a=t.id,n=(e[a],Object(u.a)(e,[a].map(h)));return n;case"ADD_NEW_ROW":return f({},e,Object(p.a)({},t.id,f({},e[t.id],{rows:[].concat(Object(d.a)(e[t.id].rows),[{from:"",to:""}])})));case"EDIT_ROW":return f({},e,Object(p.a)({},t.id,f({},e[t.id],{rows:[].concat(Object(d.a)(e[t.id].rows.filter((function(e,a){return a<t.rowIndex}))),[t.row],Object(d.a)(e[t.id].rows.filter((function(e,a){return a>t.rowIndex}))))})));case"DELETE_ROW":return f({},e,Object(p.a)({},t.id,f({},e[t.id],{rows:Object(d.a)(e[t.id].rows.filter((function(e,a){return a!==t.rowIndex})))})));default:return e}}});var v=a(15),O=a(16),w=(a(46),function(e){var t=e.title,a=e.description,n=e.rows;return r.a.createElement("div",{className:"card card-readonly mx-4 my-5"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t),r.a.createElement("p",{className:"card-text text-muted"},a),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"From"),r.a.createElement("th",{scope:"col"},"To"),r.a.createElement("th",null))),r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.from),r.a.createElement("td",null,e.to))}))))))}),g=(a(47),function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-4 px-5"},r.a.createElement(v.b,{className:"navbar-brand mr-5",to:"/"},"App Logo"),r.a.createElement("div",{className:"collapse navbar-collapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{className:"nav-link mx-2",to:"/dictionaries"},"View Dictionaries")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.b,{className:"nav-link mx-2",to:"/admin"},"Manage Dictionaries"))),r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement("i",{className:"material-icons"},"search"),r.a.createElement("input",{className:"form-control form-control-sm mr-sm-2",type:"search",placeholder:"Search...","aria-label":"Search",style:{paddingLeft:"2rem"}}),r.a.createElement("button",{className:"btn btn-light btn-sm my-2 my-sm-0",type:"submit"},"Go"))))}),j=function(e){var t=e.dictionaries;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement("h1",{className:"display-4 text-center mb-5"},"Dictionaries"),r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap"},t.map((function(e){return r.a.createElement(w,{title:e.title,description:e.description,key:e.id,rows:e.rows,id:e.id})}))))},N=Object(l.b)((function(e){return{dictionaries:Object.values(e.dictionaries)}}))(j),D=a(7),C=a(8),k=a(10),x=a(9),R=a(2),I=a(11),M=(a(49),a(50),function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(x.a)(t).call(this,e))).state={editModeOn:a.props.editModeOn||!1,from:a.props.rowData.from,to:a.props.rowData.to},a.handleInputChange=a.handleInputChange.bind(Object(R.a)(a)),a.handleEditRow=a.handleEditRow.bind(Object(R.a)(a)),a.handleSaveRow=a.handleSaveRow.bind(Object(R.a)(a)),a.handleDeleteRow=a.handleDeleteRow.bind(Object(R.a)(a)),a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(p.a)({},t,a))}},{key:"handleEditRow",value:function(){this.props.resetError(),this.setState({editModeOn:!0})}},{key:"handleSaveRow",value:function(){var e=this.props,t=e.dictionaryId,a=e.rowIndex,n={from:this.state.from,to:this.state.to};this.props.isDictionaryValid(n,a)&&(this.props.editRow(t,a,n),this.setState({editModeOn:!1}))}},{key:"handleDeleteRow",value:function(){this.props.resetError(),this.props.deleteRow(this.props.dictionaryId,this.props.rowIndex)}},{key:"renderInEditMode",value:function(){var e=this.props.hasError;return this.state.editModeOn?r.a.createElement("tr",null,r.a.createElement("td",{className:"px-0"},r.a.createElement("input",{autoFocus:!0,className:"form-control form-control-sm ".concat(e?"has-error":""),type:"text",name:"from",placeholder:"From",value:this.state.from,onChange:this.handleInputChange})),r.a.createElement("td",{className:"px-0"},r.a.createElement("input",{className:"form-control form-control-sm ".concat(e?"has-error":""),type:"text",name:"to",placeholder:"To",value:this.state.to,onChange:this.handleInputChange})),r.a.createElement("td",null,r.a.createElement("button",{className:"btn py-0 px-1",onClick:this.handleSaveRow},r.a.createElement("i",{className:"material-icons"},"save")),r.a.createElement("button",{className:"btn py-0 px-1",onClick:this.handleDeleteRow},r.a.createElement("i",{className:"material-icons text-danger"},"clear")))):null}},{key:"renderInStaticMode",value:function(){return this.state.editModeOn?null:r.a.createElement("tr",{className:"".concat(this.props.hasError?"bg-error":"")},r.a.createElement("td",null,this.props.rowData.from),r.a.createElement("td",null,this.props.rowData.to),r.a.createElement("td",null,r.a.createElement("button",{className:"btn py-0 px-1",onClick:this.handleEditRow},r.a.createElement("i",{className:"material-icons"},"edit")),r.a.createElement("button",{className:"btn py-0 px-1",onClick:this.handleDeleteRow},r.a.createElement("i",{className:"material-icons text-danger"},"clear"))))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderInStaticMode(),this.renderInEditMode())}}]),t}(n.Component)),S=a(29),F=a.n(S),A=(a(59),function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(x.a)(t).call(this,e))).state={modalIsOpen:!1},F.a.setAppElement("#root"),a.openModal=a.openModal.bind(Object(R.a)(a)),a.closeModal=a.closeModal.bind(Object(R.a)(a)),a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.modalIsOpen!==e.modalIsOpen&&this.setState({modalIsOpen:this.props.modalIsOpen})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"closeModal",value:function(){this.props.isDismissable&&this.setState({modalIsOpen:!1})}},{key:"render",value:function(){return r.a.createElement(F.a,{isOpen:this.state.modalIsOpen,onRequestClose:this.closeModal,className:"modal-dialog",overlayClassName:"modal-overlay"},this.props.children)}}]),t}(n.Component)),T=(a(60),function(e){var t=e.title,a=e.message,n=e.buttons;return r.a.createElement("div",{className:"confirm-alert"},t&&r.a.createElement("h5",null,t),r.a.createElement("p",{className:"h6"},a),n.map((function(e,t){return r.a.createElement("button",{key:t,type:"button",className:"btn btn-".concat(e.color," btn-sm mx-2"),onClick:e.onClick},e.label)})))}),P="Row cannot have empty fields. Please fill in the data.",_="Dictionary cannot have duplicate rows. Please remove one of them.",L="Duplicate value on 'From' field. Please remove marked row or update field.",V=function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(x.a)(t).call(this,e))).state={isAddingRow:!1,confirmModalOpen:!1,error:{message:"",rowIndexes:[]}},a.handleAddRow=a.handleAddRow.bind(Object(R.a)(a)),a.onOpenConfirmModal=a.onOpenConfirmModal.bind(Object(R.a)(a)),a.onConfirmDelete=a.onConfirmDelete.bind(Object(R.a)(a)),a.onCancelDelete=a.onCancelDelete.bind(Object(R.a)(a)),a.isDictionaryValid=a.isDictionaryValid.bind(Object(R.a)(a)),a.resetError=a.resetError.bind(Object(R.a)(a)),a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"handleAddRow",value:function(){this.resetError(),this.props.addRow(this.props.id),this.setState({isAddingRow:!0})}},{key:"onOpenConfirmModal",value:function(){this.setState({confirmModalOpen:!0})}},{key:"onConfirmDelete",value:function(){this.props.onDeleteDictionary(this.props.id),this.setState({confirmModalOpen:!1})}},{key:"onCancelDelete",value:function(){this.setState({confirmModalOpen:!1})}},{key:"isDictionaryValid",value:function(e,t){var a="",n=[];return this.props.rows.filter((function(e,a){return a!==t})).forEach((function(t,r){t.from===e.from&&t.to===e.to&&(a=_,n.push(r)),t.from===e.from&&t.to!==e.to&&(a=L,n.push(r))})),e.from&&e.to||(a=P),a&&n.push(t),this.setState({error:{message:a,rowIndexes:n}}),!a}},{key:"resetError",value:function(){this.setState({error:{message:"",rowIndexes:[]}})}},{key:"renderErrorMessage",value:function(){return this.state.error?r.a.createElement("p",{className:"text-danger mt-4"},this.state.error.message):null}},{key:"renderCardHeader",value:function(){var e=[{color:"danger",label:"Yes, delete it",onClick:this.onConfirmDelete},{color:"primary",label:"Cancel",onClick:this.onCancelDelete}];return r.a.createElement("div",{className:"card-header"},this.props.title,r.a.createElement("button",{className:"btn p-0",title:"Delete Dictionary",onClick:this.onOpenConfirmModal},r.a.createElement("i",{className:"material-icons"},"delete")),r.a.createElement(A,{isDismissable:!1,modalIsOpen:this.state.confirmModalOpen},r.a.createElement(T,{message:"Are you sure you want to delete this dictionary?",buttons:e})))}},{key:"renderTable",value:function(){var e=this;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"From"),r.a.createElement("th",{scope:"col"},"To"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.props.rows.map((function(t,a){return r.a.createElement(M,{key:a,rowData:t,dictionaryId:e.props.id,rowIndex:a,editRow:e.props.editRow,deleteRow:e.props.deleteRow,editModeOn:e.state.isAddingRow,isDictionaryValid:e.isDictionaryValid,hasError:e.state.error.rowIndexes.includes(a),resetError:e.resetError})}))))}},{key:"render",value:function(){return r.a.createElement("div",{className:"card dictionary-card"},this.renderCardHeader(),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"text-muted text-small"},this.props.description),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:this.handleAddRow},"Add New Row"),this.renderErrorMessage(),this.renderTable()))}}]),t}(n.Component),W=(a(61),function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(x.a)(t).call(this,e))).state={title:"",description:"",error:"",id:1100},a.handleInputChange=a.handleInputChange.bind(Object(R.a)(a)),a.handleFormSubmit=a.handleFormSubmit.bind(Object(R.a)(a)),a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(p.a)({},t,a))}},{key:"handleFormSubmit",value:function(e){if(e.preventDefault(),this.isValidForm()){var t=this.state.id,a={title:this.state.title,description:this.state.description,id:t++,rows:[]};this.setState({id:t}),this.props.createDictionary(a),this.props.onCloseModal()}}},{key:"isValidForm",value:function(){var e="";return e=this.state.title?"":"Please add a title to create a new dictionary",this.setState({error:e}),!e}},{key:"renderErrorMessage",value:function(){return this.state.error?r.a.createElement("p",{className:"text-danger"},this.state.error):null}},{key:"render",value:function(){var e=this.props.onCloseModal;return r.a.createElement("div",{className:t.componentClass},r.a.createElement("h3",{className:"text-center"},"Create Dictionary"),this.renderErrorMessage(),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group my-4"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",id:"title",placeholder:"Enter title here...",value:this.state.title,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{type:"text",className:"form-control",name:"description",id:"description",placeholder:"Enter description here...",value:this.state.description,onChange:this.handleInputChange})),r.a.createElement("div",{className:"d-flex justify-content-end mt-5"},r.a.createElement("button",{type:"submit",className:"btn btn-success mx-1"},"Create Dictionary"),r.a.createElement("button",{type:"button",className:"btn btn-danger mx-1",onClick:e},"Cancel"))))}}]),t}(n.Component));W.componentClass="dictionary-form";var U=function(e){function t(e){var a;return Object(D.a)(this,t),(a=Object(k.a)(this,Object(x.a)(t).call(this,e))).state={modalFormOpen:!1},a.onOpenFormModal=a.onOpenFormModal.bind(Object(R.a)(a)),a.onCloseFormModal=a.onCloseFormModal.bind(Object(R.a)(a)),a}return Object(I.a)(t,e),Object(C.a)(t,[{key:"onOpenFormModal",value:function(){this.setState({modalFormOpen:!0})}},{key:"onCloseFormModal",value:function(){this.setState({modalFormOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.dictionaries,n=t.createDictionary,o=t.deleteDictionary;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement("h1",{className:"display-4 text-center mb-5"},"Manage Dictionaries"),r.a.createElement("button",{type:"button",className:"btn btn-success btn-add",onClick:this.onOpenFormModal},r.a.createElement("i",{className:"material-icons"},"add"),"Create Dictionary"),r.a.createElement(A,{isDismissable:!1,modalIsOpen:this.state.modalFormOpen},r.a.createElement(W,{createDictionary:n,onCloseModal:this.onCloseFormModal})),r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap"},a.map((function(t){return r.a.createElement(V,{key:t.id,title:t.title,description:t.description,id:t.id,rows:t.rows,onDeleteDictionary:o,addRow:e.props.addRow,editRow:e.props.editRow,deleteRow:e.props.deleteRow})}))))}}]),t}(n.Component),Y=Object(l.b)((function(e){return{dictionaries:Object.values(e.dictionaries)}}),{createDictionary:function(e){return{type:"CREATE_DICTIONARY",payload:e}},deleteDictionary:function(e){return{type:"DELETE_DICTIONARY",id:e}},addRow:function(e){return{type:"ADD_NEW_ROW",id:e}},editRow:function(e,t,a){return{type:"EDIT_ROW",id:e,rowIndex:t,row:a}},deleteRow:function(e,t){return{type:"DELETE_ROW",id:e,rowIndex:t}}})(U),B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement("div",{className:"container my-5"},r.a.createElement("h1",{className:"display-3 text-center mb-5"},"Welcome to this page"),r.a.createElement("p",{className:"lead text-center"},"Where do you want to go next?"),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(v.b,{className:"btn btn-primary btn-lg mx-2",to:"/dictionaries"},"View Dictionaries"),r.a.createElement(v.b,{className:"btn btn-success btn-lg mx-2",to:"/admin"},"Manage Dictionaries"))))},G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(O.a,{exact:!0,path:"/",component:B}),r.a.createElement(O.a,{path:"/dictionaries",component:N}),r.a.createElement(O.a,{path:"/admin",component:Y}))))};a(62),a(63);i.a.render(r.a.createElement(l.a,{store:function(){var e=[m.a],t=s.a.apply(void 0,e);return Object(s.d)(y,t)}()},r.a.createElement(G,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.5313fb65.chunk.js.map